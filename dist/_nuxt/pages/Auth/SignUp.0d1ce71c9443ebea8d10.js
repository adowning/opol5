webpackJsonp([2],{"2scn":function(e,t,r){"use strict";var n=r("f0m7");t.a={layout:"nouser",middleware:"guest",components:{RegisterExisting:n.a}}},"5PlU":function(e,t,r){var n=r("RY/4"),i=r("dSzd")("iterator"),a=r("/bQp");e.exports=r("FeBl").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||a.hasOwnProperty(n(t))}},"7Ogj":function(e,t,r){e.exports=r.p+"img/logo.edd341f.png"},"9Y39":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("2scn"),i=r("YpWS"),a=r("VU/8")(n.a,i.a,!1,null,null,null);a.options.__file="pages/Auth/SignUp.vue",t.default=a.exports},SDb5:function(e,t,r){"use strict";(function(e){var n=r("Xxa5"),i=r.n(n),a=r("//Fk"),s=r.n(a),o=r("d7EF"),l=r.n(o),u=r("exGp"),c=r.n(u),d=r("cPd9"),p=(r.n(d),r("oG3W"));t.a={name:"RegisterExisting",data:function(){return{username:"testgroupandrews.com",password:"testgroupandrews.com",humanityId:"4041624",email:"",firstname:"",lastname:"",result:null,phone:"",imageUrl:"",imageName:"",hidepw:!0,error:"",user:null,confirmView:!1,code:"",theme:p.a}},methods:{verify:function(){var t=c()(i.a.mark(function t(){var r,n,a,o,u,c,p;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.$nuxt.$loading.start(),this.imageName,r={username:this.username,password:this.password,userId:this.humanityId},this.$nuxt.$loading.start(),this.email="temp@groupandrews.com",this.phone_number="+19035301197",n=Math.floor(100*Math.random()),this.username+=n.toString(),this.username,"development"===e.env.NODE&&(this.username+=n.toString()),t.next=12,s.a.all([d.Auth.signUp({username:this.username,password:this.password,attributes:{email:this.email,phone_number:this.phone_number}}),this.$axios.$post("/api/users/gethumanitydata",r)]);case 12:return a=t.sent,o=l()(a,2),u=o[0],c=o[1],(p={}).cognitoUser=u,p.details=c,console.log(p),t.next=22,this.$axios.$post("/api/users/createuser",p);case 22:t.sent,this.$nuxt.$loading.finish(),this.result=!0,this.$router.push("/people/Profile");case 26:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),pickFile:function(){this.$refs.image.click()},onFilePicked:function(e){var t=this,r=e.target.files;if(void 0!==r[0]){if(this.imageName=r[0].name,this.imageName.lastIndexOf(".")<=0)return;var n=new FileReader;n.readAsDataURL(r[0]),n.addEventListener("load",function(){t.imageUrl=n.result,t.imageFile=r[0]})}else this.imageName="",this.imageFile="",this.imageUrl=""},signIn:function(){var e=c()(i.a.mark(function e(t){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$nuxt.$loading.finish(),this.$router.push("/people/Profile"),user.challengeNa/me!=="SMS_MFA"){e.next=5;break}return this.confirmView=!0,e.abrupt("return");case 5:return e.next=7,this.checkUser();case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),checkUser:function(){var e=c()(i.a.mark(function e(){var t,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this.user)){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,d.Auth.verifiedContact(t);case 6:r=e.sent,this.$store.dispatch("modules/AuthStore/setVerification",r),d.JS.isEmpty(r.verified)?this.$router.push("/Auth/VerifyContact"):this.$router.push("/people/Profile"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[3,11]])}));return function(){return e.apply(this,arguments)}}(),confirm:function(){var e=c()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.Auth.confirmSignIn(this.user,this.code);case 3:this.$router.push("/people/Profile"),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),this.setError(e.t0),this.fireAuthNotify(this.error);case 10:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),forgot:function(){this.$router.push("/Auth/forgotPassword")},signUp:function(){this.$router.push("/Auth/SignIn")},setError:function(e){this.error=e.message||e}}}}).call(t,r("W2nU"))},Xd32:function(e,t,r){r("+tPU"),r("zQR9"),e.exports=r("5PlU")},YpWS:function(e,t,r){"use strict";var n=function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("RegisterExisting")],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},d7EF:function(e,t,r){"use strict";t.__esModule=!0;var n=a(r("us/S")),i=a(r("BO1k"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(){return function(e,t){if(Array.isArray(e))return e;if((0,n.default)(Object(e)))return function(e,t){var r=[],n=!0,a=!1,s=void 0;try{for(var o,l=(0,i.default)(e);!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,s=e}finally{try{!n&&l.return&&l.return()}finally{if(a)throw s}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},f0m7:function(e,t,r){"use strict";var n=r("SDb5"),i=r("otpn"),a=r("VU/8")(n.a,i.a,!1,null,null,null);a.options.__file="components/amplify/RegisterExisting.vue",t.a=a.exports},oG3W:function(e,t,r){"use strict";t.a={h1:{fontWeight:"400"},h2:{fontWeight:"400",textAlign:"left"},h3:{fontWeight:"400",textAlign:"left"},h4:{fontWeight:"400",textAlign:"left"},h5:{fontWeight:"400",textAlign:"left"},pre:{background:"#f8f8f8"},container:{textAlign:"center"},section:{textAlign:"left",padding:"0 1em"},lineBreak:{height:"0",borderBottom:"1px solid #ededed",margin:"1em 10%"},form:{display:"inline-block",width:"320px"},inputRow:{display:"block",marginTop:"0.5em"},input:{width:"100%",fontSize:"1em",padding:"0.5em",boxSizing:"border-box",outline:"none",border:"none",borderBottom:"2px solid #2196F3"},inputLabel:{display:"block",textAlign:"left"},actionRow:{display:"flex",marginTop:"0.5em",textAlign:"right"},action:{fontSize:"1em",border:"none",outline:"none",padding:"12px 50px",backgroundColor:"#ededed",cursor:"pointer"},footer:{marginTop:"1em"},footerLeft:{float:"left"},footerRight:{float:"right"},link:{textDecoration:"underline",cursor:"pointer"},error:{background:"orange",padding:"0.5em"},nav:{marginBottom:"1em",display:"flex",justifyContent:"space-between",backgroundColor:"#2196F3",color:"#fff",padding:"1em",item:{fontWeight:"500",padding:"0 0.5em",cursor:"pointer"},greeting:{fontWeight:"500",color:"#000",padding:"0 0.5em"},main:{flexGrow:"1",textAlign:"left"},right:{fontSize:"0.8em"}}}},otpn:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"mt-3",attrs:{"grid-list-md":""}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xl6:"",lg10:"",md10:"",sm12:"",xs10:""}},[n("v-card",{staticClass:"pa-2 ml-4 mr-2"},[n("v-layout",{attrs:{row:"","justify-center":""}},[n("v-layout",{attrs:{column:"","align-center":""}},[n("transition",{attrs:{appear:"",name:"fadeout"}},[n("img",{staticClass:"aws-logo",staticStyle:{width:"140px",height:"140px"},attrs:{src:r("7Ogj")}})]),n("h3",{staticClass:"text-xs-center grey--text hidden-xs-only"},[e._v("Andrews Administration")])],1),e.result?e._e():n("v-flex",{attrs:{xl6:"",lg6:"",md6:"",sm6:""}},[n("transition",{attrs:{appear:"",name:"fadeout"}},[n("v-card",{staticClass:"elevation-0"},[n("v-alert",{staticClass:"ml-3 mr-3",attrs:{outline:"",type:"error",dismissible:""},model:{value:e.error,callback:function(t){e.error=t},expression:"error"}},[e._v("\n                                    "+e._s(e.error)+"\n                                ")]),n("v-card-text",[n("div",[n("v-text-field",{attrs:{label:"Humanity ID",required:""},model:{value:e.humanityId,callback:function(t){e.humanityId=t},expression:"humanityId"}})],1),n("div",[n("v-text-field",{attrs:{label:"Humanity Username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),n("div",[n("v-text-field",{attrs:{label:"Phone Number",required:""},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}})],1),n("v-text-field",{attrs:{"append-icon":e.hidepw?"visibility":"visibility_off","append-icon-cb":function(){return e.hidepw=!e.hidepw},type:e.hidepw?"password":"text",label:"Humanity Password",hint:"At least 6 characters",required:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("div",{style:e.theme.inputRow},[n("v-flex",{staticClass:"text-xs-center text-sm-center text-md-center text-lg-center",attrs:{xs12:""}},[e.imageUrl?n("img",{attrs:{src:e.imageUrl,height:"150"}}):e._e(),n("v-text-field",{attrs:{label:"Profile Picture","prepend-icon":"attach_file"},on:{click:e.pickFile},model:{value:e.imageName,callback:function(t){e.imageName=t},expression:"imageName"}}),n("input",{ref:"image",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*"},on:{change:e.onFilePicked}})],1)],1),n("v-btn",{attrs:{color:"#9c27b0"},on:{click:e.verify}},[e._v("\n                                       Verify\n                                    ")]),n("div",{style:e.theme.footer},[n("br"),n("span",{style:e.theme.footerRight},[n("a",{style:e.theme.link,on:{click:e.signUp}},[e._v("Back to Sign In")])])])],1)],1)],1)],1)],1)],1)],1)],1)],1)};n._withStripped=!0;var i={render:n,staticRenderFns:[]};t.a=i},"us/S":function(e,t,r){e.exports={default:r("Xd32"),__esModule:!0}}});